# ğŸ› ï¸ RAGTrace ì¢…í•© ë¬¸ì œí•´ê²° ê°€ì´ë“œ

**ëª¨ë“  í”Œë«í¼ê³¼ í™˜ê²½ì„ ìœ„í•œ ì™„ì „í•œ ë¬¸ì œí•´ê²° ì†”ë£¨ì…˜**

ì´ ê°€ì´ë“œëŠ” RAGTrace ì‚¬ìš© ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë¬¸ì œì— ëŒ€í•œ ì²´ê³„ì ì¸ í•´ê²° ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [ì„¤ì¹˜ ê´€ë ¨ ë¬¸ì œ](#1-ì„¤ì¹˜-ê´€ë ¨-ë¬¸ì œ)
2. [ì‹¤í–‰ ë° ì‹œì‘ ë¬¸ì œ](#2-ì‹¤í–‰-ë°-ì‹œì‘-ë¬¸ì œ)
3. [í‰ê°€ ë° ì„±ëŠ¥ ë¬¸ì œ](#3-í‰ê°€-ë°-ì„±ëŠ¥-ë¬¸ì œ)
4. [ì›¹ ëŒ€ì‹œë³´ë“œ ë¬¸ì œ](#4-ì›¹-ëŒ€ì‹œë³´ë“œ-ë¬¸ì œ)
5. [API ë° ì—°ê²° ë¬¸ì œ](#5-api-ë°-ì—°ê²°-ë¬¸ì œ)
6. [BGE-M3 ëª¨ë¸ ë¬¸ì œ](#6-bge-m3-ëª¨ë¸-ë¬¸ì œ)
7. [ë°ì´í„° ë° íŒŒì¼ ë¬¸ì œ](#7-ë°ì´í„°-ë°-íŒŒì¼-ë¬¸ì œ)
8. [Windows íŠ¹í™” ë¬¸ì œ](#8-windows-íŠ¹í™”-ë¬¸ì œ)
9. [ê¸´ê¸‰ ë³µêµ¬ ë°©ë²•](#9-ê¸´ê¸‰-ë³µêµ¬-ë°©ë²•)

---

## 1. ì„¤ì¹˜ ê´€ë ¨ ë¬¸ì œ

### ğŸ Python ì„¤ì¹˜ ë¬¸ì œ

#### ë¬¸ì œ: Pythonì´ ì¸ì‹ë˜ì§€ ì•ŠìŒ
```
'python'ì€(ëŠ”) ë‚´ë¶€ ë˜ëŠ” ì™¸ë¶€ ëª…ë ¹, ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í”„ë¡œê·¸ë¨, ë˜ëŠ” ë°°ì¹˜ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.
```

**í•´ê²° ë°©ë²•:**

**Windows:**
```powershell
# 1. Python ì„¤ì¹˜ í™•ì¸
where python

# 2. PATH í™˜ê²½ë³€ìˆ˜ í™•ì¸
echo $env:PATH

# 3. Python PATH ìˆ˜ë™ ì¶”ê°€
$env:PATH += ";C:\Program Files\Python311;C:\Program Files\Python311\Scripts"

# 4. ì˜êµ¬ ì„¤ì • (ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ í¸ì§‘)
# ì œì–´íŒ â†’ ì‹œìŠ¤í…œ â†’ ê³ ê¸‰ ì‹œìŠ¤í…œ ì„¤ì • â†’ í™˜ê²½ ë³€ìˆ˜
```

**macOS/Linux:**
```bash
# 1. Python ìœ„ì¹˜ í™•ì¸
which python3

# 2. ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±
sudo ln -s /usr/bin/python3 /usr/local/bin/python

# 3. .bashrc ë˜ëŠ” .zshrcì— alias ì¶”ê°€
echo "alias python=python3" >> ~/.bashrc
source ~/.bashrc
```

#### ë¬¸ì œ: ì˜ëª»ëœ Python ë²„ì „
```
Python 3.9.7 detected. Python 3.11+ required.
```

**í•´ê²° ë°©ë²•:**

```powershell
# Windows - ìµœì‹  Python 3.11 ì„¤ì¹˜
# https://www.python.org/downloads/release/python-3119/
# ì„¤ì¹˜ ì‹œ "Add Python to PATH" ì²´í¬ í•„ìˆ˜

# macOS - Homebrew ì‚¬ìš©
brew install python@3.11

# Linux - íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì‚¬ìš©
sudo apt update
sudo apt install python3.11 python3.11-venv python3.11-pip
```

### ğŸ“¦ UV íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ë¬¸ì œ

#### ë¬¸ì œ: UV ì„¤ì¹˜ ì‹¤íŒ¨
```
'uv' is not recognized as an internal or external command
```

**í•´ê²° ë°©ë²•:**

```powershell
# Windows
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

# ë˜ëŠ” pipìœ¼ë¡œ ì„¤ì¹˜
pip install uv

# macOS
curl -LsSf https://astral.sh/uv/install.sh | sh

# ë˜ëŠ” Homebrew
brew install uv

# Linux
curl -LsSf https://astral.sh/uv/install.sh | sh
```

#### ë¬¸ì œ: UV ë™ê¸°í™” ì‹¤íŒ¨
```
error: Failed to download distributions
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. UV ìºì‹œ ì •ë¦¬
uv cache clean

# 2. ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸ (í”„ë¡ì‹œ í™˜ê²½)
export HTTP_PROXY=http://proxy.company.com:8080
export HTTPS_PROXY=http://proxy.company.com:8080

# 3. íƒ€ì„ì•„ì›ƒ ì¦ê°€
uv sync --timeout 300

# 4. ê°œë³„ ì˜ì¡´ì„± ì„¤ì¹˜
uv add streamlit pandas numpy torch
```

### ğŸ”§ ì˜ì¡´ì„± ì¶©ëŒ ë¬¸ì œ

#### ë¬¸ì œ: íŒ¨í‚¤ì§€ ë²„ì „ ì¶©ëŒ
```
ERROR: pip's dependency resolver does not currently have a solution
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ê°€ìƒí™˜ê²½ ì¬ìƒì„±
rm -rf .venv  # Linux/macOS
rmdir /s /q .venv  # Windows

uv sync --all-extras

# 2. íŠ¹ì • ë²„ì „ ê°•ì œ ì„¤ì¹˜
uv add "torch==2.5.1+cpu" --index https://download.pytorch.org/whl/cpu

# 3. ì¶©ëŒ íŒ¨í‚¤ì§€ ìˆ˜ë™ í•´ê²°
uv tree  # ì˜ì¡´ì„± íŠ¸ë¦¬ í™•ì¸
uv remove problematic-package
uv add compatible-package
```

---

## 2. ì‹¤í–‰ ë° ì‹œì‘ ë¬¸ì œ

### âš¡ ê°€ìƒí™˜ê²½ í™œì„±í™” ë¬¸ì œ

#### ë¬¸ì œ: ê°€ìƒí™˜ê²½ í™œì„±í™” ì‹¤íŒ¨
```
cannot be loaded because running scripts is disabled on this system
```

**í•´ê²° ë°©ë²•:**

**Windows:**
```powershell
# 1. ì‹¤í–‰ ì •ì±… ë³€ê²½ (ê´€ë¦¬ì ê¶Œí•œ)
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# 2. ì¼íšŒì„± ì‹¤í–‰
powershell -ExecutionPolicy Bypass -Command ".venv\Scripts\Activate.ps1"

# 3. ë°°ì¹˜ íŒŒì¼ë¡œ í™œì„±í™”
.venv\Scripts\activate.bat
```

**macOS/Linux:**
```bash
# 1. ê¶Œí•œ í™•ì¸
chmod +x .venv/bin/activate

# 2. ì§ì ‘ í™œì„±í™”
source .venv/bin/activate

# 3. ê°€ìƒí™˜ê²½ ì¬ìƒì„±
python -m venv .venv --clear
```

### ğŸš€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ë¬¸ì œ

#### ë¬¸ì œ: CLI ëª…ë ¹ì–´ ì‹¤í–‰ ì‹¤íŒ¨
```
ModuleNotFoundError: No module named 'src'
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ì˜¬ë°”ë¥¸ ë””ë ‰í† ë¦¬ í™•ì¸
pwd
ls cli.py  # íŒŒì¼ì´ ì¡´ì¬í•´ì•¼ í•¨

# 2. Python ê²½ë¡œ ì„¤ì •
export PYTHONPATH="${PYTHONPATH}:$(pwd)"  # Linux/macOS
set PYTHONPATH=%PYTHONPATH%;%CD%  # Windows

# 3. ëª¨ë“ˆ ì‹¤í–‰ ë°©ì‹ ë³€ê²½
python -m src.presentation.main
uv run python cli.py
```

#### ë¬¸ì œ: ì›¹ ëŒ€ì‹œë³´ë“œ ì‹œì‘ ì‹¤íŒ¨
```
streamlit : The term 'streamlit' is not recognized
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ê°€ìƒí™˜ê²½ í™œì„±í™” í™•ì¸
which streamlit  # Linux/macOS
where streamlit  # Windows

# 2. Streamlit ì¬ì„¤ì¹˜
pip install streamlit --force-reinstall

# 3. ì§ì ‘ ëª¨ë“ˆ ì‹¤í–‰
python -m streamlit run src/presentation/web/main.py

# 4. UV ì‚¬ìš©
uv run streamlit run src/presentation/web/main.py
```

---

## 3. í‰ê°€ ë° ì„±ëŠ¥ ë¬¸ì œ

### ğŸ“Š í‰ê°€ ì‹¤í–‰ ë¬¸ì œ

#### ë¬¸ì œ: í‰ê°€ê°€ 0%ì—ì„œ ë©ˆì¶¤ (LangChain íƒ€ì„ì•„ì›ƒ)
```
Evaluation progress: 0%... (ê³„ì† ë©ˆì¶¤)
```

**í•´ê²° ë°©ë²•:**

```bash
# v2.0ì—ì„œ í•´ê²°ëœ ë¬¸ì œì´ì§€ë§Œ, ë ˆê±°ì‹œ ì„¤ì¹˜ì˜ ê²½ìš°:

# 1. ìµœì‹  ë²„ì „ ì—…ë°ì´íŠ¸
git pull origin main
uv sync --all-extras

# 2. HTTP ì§ì ‘ í˜¸ì¶œ ì–´ëŒ‘í„° í™•ì¸
python -c "
from src.container import container
llm_adapter = container.llm_adapter()
print(f'LLM Adapter: {type(llm_adapter).__name__}')
"

# 3. ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸
ping google.com
nslookup generativelanguage.googleapis.com
```

#### ë¬¸ì œ: RAGAS í‰ê°€ ì˜¤ë¥˜
```
RagasException: Evaluation failed
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ì…ë ¥ ë°ì´í„° ê²€ì¦
python cli.py validate-data your_data.json

# 2. ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ ë°°ì¹˜ í¬ê¸° ì¡°ì •
python cli.py evaluate data.json --batch-size 4

# 3. ë””ë²„ê·¸ ëª¨ë“œ ì‹¤í–‰
python cli.py evaluate data.json --verbose --debug

# 4. ê°œë³„ ë©”íŠ¸ë¦­ í…ŒìŠ¤íŠ¸
python -c "
from ragas.metrics import faithfulness
print('Faithfulness metric:', faithfulness)
"
```

### ğŸŒ ì„±ëŠ¥ ë¬¸ì œ

#### ë¬¸ì œ: í‰ê°€ ì†ë„ê°€ ë„ˆë¬´ ëŠë¦¼
```
í‰ê°€ ì‹œê°„: 1ì‹œê°„+ (ì˜ˆìƒ: 1-2ë¶„)
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. GPU ì‚¬ìš© í™•ì¸
python -c "
import torch
print(f'CUDA available: {torch.cuda.is_available()}')
print(f'Device count: {torch.cuda.device_count()}')
"

# 2. BGE-M3 ìµœì í™”
echo 'BGE_M3_DEVICE="cuda"' >> .env  # GPU ì‚¬ìš©
echo 'BGE_M3_BATCH_SIZE=16' >> .env  # ë°°ì¹˜ í¬ê¸° ì¦ê°€

# 3. ë³‘ë ¬ ì²˜ë¦¬ í™œì„±í™”
echo 'RAGAS_NUM_WORKERS=4' >> .env

# 4. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
python -c "
import psutil
print(f'Memory usage: {psutil.virtual_memory().percent}%')
"
```

#### ë¬¸ì œ: ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜
```
CUDA out of memory. Tried to allocate 2.00 GiB
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. CPU ëª¨ë“œ ê°•ì œ
echo 'BGE_M3_DEVICE="cpu"' >> .env

# 2. ë°°ì¹˜ í¬ê¸° ê°ì†Œ
echo 'BGE_M3_BATCH_SIZE=2' >> .env

# 3. GPU ë©”ëª¨ë¦¬ ì •ë¦¬
python -c "
import torch
if torch.cuda.is_available():
    torch.cuda.empty_cache()
    print('GPU cache cleared')
"

# 4. ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ í™•ì¸
free -h  # Linux
vm_stat  # macOS
Get-ComputerInfo | Select-Object TotalPhysicalMemory, AvailablePhysicalMemory  # Windows
```

---

## 4. ì›¹ ëŒ€ì‹œë³´ë“œ ë¬¸ì œ

### ğŸŒ ì ‘ì† ë° í¬íŠ¸ ë¬¸ì œ

#### ë¬¸ì œ: localhost:8501 ì ‘ì† ë¶ˆê°€
```
This site can't be reached
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. í¬íŠ¸ ì‚¬ìš© í™•ì¸
netstat -an | grep 8501  # Linux/macOS
netstat -an | findstr 8501  # Windows

# 2. ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
streamlit run src/presentation/web/main.py --server.port 8502

# 3. ë°©í™”ë²½ ì„¤ì • í™•ì¸
# Windows: Windows Defender ë°©í™”ë²½ì—ì„œ Python í—ˆìš©
# macOS: ì‹œìŠ¤í…œ í™˜ê²½ì„¤ì • â†’ ë³´ì•ˆ ë° ê°œì¸ì •ë³´ë³´í˜¸ â†’ ë°©í™”ë²½
# Linux: sudo ufw allow 8501

# 4. ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ë°”ì¸ë”©
streamlit run src/presentation/web/main.py --server.address 0.0.0.0
```

#### ë¬¸ì œ: ì›¹ ëŒ€ì‹œë³´ë“œ ë¡œë”© ì˜¤ë¥˜
```
Error: Module not found
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ê²½ë¡œ í™•ì¸
pwd
ls src/presentation/web/main.py

# 2. Python ê²½ë¡œ ì„¤ì •
export PYTHONPATH="$(pwd):$PYTHONPATH"

# 3. ì§ì ‘ ì‹¤í–‰
cd src/presentation/web
streamlit run main.py

# 4. ì˜ì¡´ì„± í™•ì¸
python -c "
import streamlit
import plotly
import pandas
print('All web dependencies loaded successfully')
"
```

### ğŸ“± UI ë° ê¸°ëŠ¥ ë¬¸ì œ

#### ë¬¸ì œ: íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨
```
UploadedFile error: File too large
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. Streamlit ì„¤ì • ë³€ê²½
mkdir -p ~/.streamlit
cat > ~/.streamlit/config.toml << EOF
[server]
maxUploadSize = 1000

[runner]
fastReruns = false
EOF

# 2. ë©”ëª¨ë¦¬ ì¦ê°€
export STREAMLIT_SERVER_MAX_UPLOAD_SIZE=1000

# 3. íŒŒì¼ í¬ê¸° í™•ì¸
ls -lh your_data.xlsx
# 200MB ë¯¸ë§Œ ê¶Œì¥
```

#### ë¬¸ì œ: ì°¨íŠ¸ ë Œë”ë§ ì˜¤ë¥˜
```
Plotly charts not displaying
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. Plotly ì¬ì„¤ì¹˜
pip install --upgrade plotly

# 2. ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í™•ì¸
# Chrome, Firefox, Safari ê¶Œì¥
# Internet Explorer ë¯¸ì§€ì›

# 3. ì°¨íŠ¸ ë°ì´í„° í™•ì¸
python -c "
import pandas as pd
import plotly.express as px
df = pd.DataFrame({'x': [1,2,3], 'y': [1,2,3]})
fig = px.scatter(df, x='x', y='y')
print('Plotly working correctly')
"
```

---

## 5. API ë° ì—°ê²° ë¬¸ì œ

### ğŸ”‘ API í‚¤ ë¬¸ì œ

#### ë¬¸ì œ: API í‚¤ ì¸ì¦ ì‹¤íŒ¨
```
google.api_core.exceptions.Unauthenticated: 401 API key not valid
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. .env íŒŒì¼ í™•ì¸
cat .env
# GEMINI_API_KEY=your_actual_key_here

# 2. API í‚¤ í˜•ì‹ í™•ì¸
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
key = os.getenv('GEMINI_API_KEY')
print(f'API Key length: {len(key) if key else 0}')
print(f'API Key starts with: {key[:10] if key else \"None\"}...')
"

# 3. ìƒˆ API í‚¤ ìƒì„±
# Google AI Studio: https://aistudio.google.com/app/apikey
# Naver Cloud Platform: https://console.ncloud.com/

# 4. API í‚¤ í…ŒìŠ¤íŠ¸
python -c "
import google.generativeai as genai
import os
from dotenv import load_dotenv
load_dotenv()
genai.configure(api_key=os.getenv('GEMINI_API_KEY'))
model = genai.GenerativeModel('gemini-1.5-flash')
response = model.generate_content('Hello')
print('API key working correctly')
"
```

#### ë¬¸ì œ: Naver HCX API ì—°ê²° ì‹¤íŒ¨
```
HCX API authentication failed
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. HCX API í‚¤ í™•ì¸
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
key = os.getenv('CLOVA_STUDIO_API_KEY')
print(f'HCX API Key configured: {bool(key)}')
"

# 2. HCX API í…ŒìŠ¤íŠ¸
python -c "
from src.infrastructure.llm.hcx_adapter import HCXAdapter
adapter = HCXAdapter()
# í…ŒìŠ¤íŠ¸ ìš”ì²­ ì‹¤í–‰
"

# 3. ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ í™•ì¸
curl -H \"Authorization: Bearer $CLOVA_STUDIO_API_KEY\" \
     https://clovastudio.stream.ntruss.com/
```

### ğŸŒ ë„¤íŠ¸ì›Œí¬ ë° ì—°ê²° ë¬¸ì œ

#### ë¬¸ì œ: DNS í•´ìƒë„ ì‹¤íŒ¨
```
Failed to resolve hostname: generativelanguage.googleapis.com
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. DNS ì„œë²„ í™•ì¸
nslookup generativelanguage.googleapis.com
ping 8.8.8.8

# 2. í”„ë¡ì‹œ ì„¤ì • (ê¸°ì—… í™˜ê²½)
export HTTP_PROXY=http://proxy.company.com:8080
export HTTPS_PROXY=https://proxy.company.com:8080

# 3. hosts íŒŒì¼ í™•ì¸
# Windows: C:\Windows\System32\drivers\etc\hosts
# Linux/macOS: /etc/hosts

# 4. ì§ì ‘ IP ì ‘ê·¼ í…ŒìŠ¤íŠ¸
python -c "
import requests
response = requests.get('https://8.8.8.8', timeout=10)
print(f'Direct IP access: {response.status_code}')
"
```

#### ë¬¸ì œ: íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜
```
ReadTimeout: HTTPSConnectionPool(host='generativelanguage.googleapis.com', port=443)
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. íƒ€ì„ì•„ì›ƒ ì„¤ì • ì¦ê°€
echo 'API_TIMEOUT=300' >> .env

# 2. ì¬ì‹œë„ íšŸìˆ˜ ì¦ê°€
echo 'API_RETRY_COUNT=5' >> .env

# 3. ë„¤íŠ¸ì›Œí¬ ì†ë„ í…ŒìŠ¤íŠ¸
python -c "
import time
import requests
start = time.time()
response = requests.get('https://httpbin.org/delay/1')
print(f'Network latency: {time.time() - start:.2f}s')
"
```

---

## 6. BGE-M3 ëª¨ë¸ ë¬¸ì œ

### ğŸ“¥ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ë¬¸ì œ

#### ë¬¸ì œ: BGE-M3 ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨
```
ConnectionError: Failed to download BGE-M3 model
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ìˆ˜ë™ ë‹¤ìš´ë¡œë“œ (ì¸í„°ë„· ì—°ê²° í™˜ê²½)
python -c "
from sentence_transformers import SentenceTransformer
model = SentenceTransformer('BAAI/bge-m3')
model.save('./models/bge-m3')
print('BGE-M3 model downloaded successfully')
"

# 2. Git LFSë¡œ ì§ì ‘ ë‹¤ìš´ë¡œë“œ
git lfs install
git clone https://huggingface.co/BAAI/bge-m3 ./models/bge-m3

# 3. ì˜¤í”„ë¼ì¸ íŒŒì¼ ë³µì‚¬
# ì¸í„°ë„· ì—°ê²°ëœ PCì—ì„œ ë‹¤ìš´ë¡œë“œ í›„ íì‡„ë§ìœ¼ë¡œ ë³µì‚¬

# 4. ëª¨ë¸ ê²½ë¡œ ì„¤ì •
echo 'BGE_M3_MODEL_PATH="./models/bge-m3"' >> .env
```

#### ë¬¸ì œ: ëª¨ë¸ ë¡œë”© ì‹¤íŒ¨
```
OSError: Can't load tokenizer for 'BAAI/bge-m3'
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ëª¨ë¸ íŒŒì¼ ë¬´ê²°ì„± í™•ì¸
ls -la models/bge-m3/
# config.json, tokenizer.json ë“±ì´ ìˆì–´ì•¼ í•¨

# 2. ëª¨ë¸ ì¬ë‹¤ìš´ë¡œë“œ
rm -rf models/bge-m3
python -c "
from sentence_transformers import SentenceTransformer
model = SentenceTransformer('BAAI/bge-m3')
model.save('./models/bge-m3')
"

# 3. ê¶Œí•œ í™•ì¸
chmod -R 755 models/bge-m3

# 4. ë””ìŠ¤í¬ ê³µê°„ í™•ì¸
df -h .  # Linux/macOS
Get-Volume  # Windows
```

### ğŸš€ BGE-M3 ì„±ëŠ¥ ë¬¸ì œ

#### ë¬¸ì œ: BGE-M3 ì‹¤í–‰ ì†ë„ ë„ˆë¬´ ëŠë¦¼
```
BGE-M3 processing: 1 doc/sec (expected: 40+ doc/sec)
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ë””ë°”ì´ìŠ¤ ì„¤ì • ìµœì í™”
echo 'BGE_M3_DEVICE="auto"' >> .env  # ìë™ ê°ì§€

# 2. GPU ì‚¬ìš© (ê°€ëŠ¥í•œ ê²½ìš°)
python -c "
import torch
if torch.cuda.is_available():
    print('Using CUDA GPU')
    print(f'GPU: {torch.cuda.get_device_name(0)}')
    print(f'Memory: {torch.cuda.get_device_properties(0).total_memory / 1024**3:.1f}GB')
"

# 3. ë°°ì¹˜ í¬ê¸° ìµœì í™”
echo 'BGE_M3_BATCH_SIZE=16' >> .env  # GPUìš©
echo 'BGE_M3_BATCH_SIZE=8' >> .env   # CPUìš©

# 4. ë©€í‹°ìŠ¤ë ˆë”© í™œì„±í™”
echo 'BGE_M3_NUM_THREADS=4' >> .env
```

#### ë¬¸ì œ: GPU ë©”ëª¨ë¦¬ ë¶€ì¡±
```
RuntimeError: CUDA out of memory
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ë©”ëª¨ë¦¬ ì •ë¦¬
python -c "
import torch
torch.cuda.empty_cache()
print('GPU memory cleared')
"

# 2. ë°°ì¹˜ í¬ê¸° ê°ì†Œ
echo 'BGE_M3_BATCH_SIZE=4' >> .env

# 3. CPU ëª¨ë“œ ì „í™˜
echo 'BGE_M3_DEVICE="cpu"' >> .env

# 4. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
nvidia-smi  # GPU ë©”ëª¨ë¦¬ í™•ì¸
```

---

## 7. ë°ì´í„° ë° íŒŒì¼ ë¬¸ì œ

### ğŸ“Š ë°ì´í„° í˜•ì‹ ë¬¸ì œ

#### ë¬¸ì œ: Excel/CSV íŒŒì¼ ì½ê¸° ì‹¤íŒ¨
```
UnicodeDecodeError: 'utf-8' codec can't decode
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ì¸ì½”ë”© ìë™ ê°ì§€ í™œì„±í™”
python cli.py import-data file.csv --auto-encoding

# 2. íŠ¹ì • ì¸ì½”ë”© ì§€ì •
python cli.py import-data file.csv --encoding cp949  # í•œêµ­ì–´
python cli.py import-data file.csv --encoding euc-kr

# 3. íŒŒì¼ ì¸ì½”ë”© í™•ì¸
python -c "
import chardet
with open('file.csv', 'rb') as f:
    result = chardet.detect(f.read())
    print(f'Detected encoding: {result}')
"

# 4. ìˆ˜ë™ ì¸ì½”ë”© ë³€í™˜
python -c "
with open('file.csv', 'r', encoding='cp949') as f:
    content = f.read()
with open('file_utf8.csv', 'w', encoding='utf-8') as f:
    f.write(content)
"
```

#### ë¬¸ì œ: í•„ìˆ˜ ì»¬ëŸ¼ ëˆ„ë½
```
ValidationError: Missing required columns: ['question', 'contexts', 'answer', 'ground_truth']
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ë°ì´í„° êµ¬ì¡° í™•ì¸
python -c "
import pandas as pd
df = pd.read_excel('your_data.xlsx')
print('Columns:', df.columns.tolist())
print('Sample data:')
print(df.head())
"

# 2. ì»¬ëŸ¼ëª… ë§¤í•‘ ìƒì„±
python cli.py import-data your_data.xlsx --column-mapping "ì§ˆë¬¸:question,ë§¥ë½:contexts,ë‹µë³€:answer,ì •ë‹µ:ground_truth"

# 3. í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
python -c "
import pandas as pd
df = pd.read_excel('your_data.xlsx')
df_renamed = df.rename(columns={
    'ì§ˆë¬¸': 'question',
    'ë§¥ë½': 'contexts', 
    'ë‹µë³€': 'answer',
    'ì •ë‹µ': 'ground_truth'
})
df_renamed.to_excel('converted_data.xlsx', index=False)
"
```

### ğŸ’¾ íŒŒì¼ ê¶Œí•œ ë° ì ‘ê·¼ ë¬¸ì œ

#### ë¬¸ì œ: íŒŒì¼ ê¶Œí•œ ì˜¤ë¥˜
```
PermissionError: [Errno 13] Permission denied
```

**í•´ê²° ë°©ë²•:**

```bash
# Linux/macOS
chmod 755 data/
chmod 644 data/*.json

# Windows (ê´€ë¦¬ì ê¶Œí•œ)
icacls data /grant Everyone:F /T

# íŒŒì¼ ì†Œìœ ê¶Œ í™•ì¸
ls -la data/  # Linux/macOS
Get-Acl data  # Windows
```

#### ë¬¸ì œ: ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
```
OSError: [Errno 28] No space left on device
```

**í•´ê²° ë°©ë²•:**

```bash
# 1. ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
df -h .  # Linux/macOS
Get-Volume  # Windows

# 2. ì„ì‹œ íŒŒì¼ ì •ë¦¬
rm -rf /tmp/ragtrace_*  # Linux/macOS
del /q %TEMP%\ragtrace_*  # Windows

# 3. ìºì‹œ ì •ë¦¬
uv cache clean
pip cache purge

# 4. í° íŒŒì¼ ì°¾ê¸°
find . -size +100M -type f  # Linux/macOS
forfiles /S /C "cmd /c if @fsize gtr 104857600 echo @path @fsize"  # Windows
```

---

## 8. Windows íŠ¹í™” ë¬¸ì œ

### ğŸ¢ ê¸°ì—… í™˜ê²½ ë¬¸ì œ

#### ë¬¸ì œ: ê·¸ë£¹ ì •ì±…ìœ¼ë¡œ ì¸í•œ ì„¤ì¹˜ ì œí•œ
```
Group Policy prevents installation
```

**í•´ê²° ë°©ë²•:**

```powershell
# 1. ì‚¬ìš©ì ë ˆë²¨ ì„¤ì¹˜
python -m pip install --user package_name

# 2. ê°€ìƒí™˜ê²½ ì‚¬ìš© (ê¶Œì¥)
python -m venv .venv --without-pip
.venv\Scripts\activate
python -m ensurepip

# 3. í¬í„°ë¸” Python ì‚¬ìš©
# https://www.python.org/downloads/windows/ ì—ì„œ embeddable zip ë‹¤ìš´ë¡œë“œ

# 4. IT ê´€ë¦¬ìì—ê²Œ ì˜ˆì™¸ ìš”ì²­
# í•„ìš”í•œ íŒ¨í‚¤ì§€ ëª©ë¡ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì‚¬ìœ  ì œì‹œ
```

#### ë¬¸ì œ: ì•ˆí‹°ë°”ì´ëŸ¬ìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ ê°„ì„­
```
Windows Defender blocked the operation
```

**í•´ê²° ë°©ë²•:**

```powershell
# 1. Windows Defender ì˜ˆì™¸ ì¶”ê°€
# Windows ë³´ì•ˆ â†’ ë°”ì´ëŸ¬ìŠ¤ ë° ìœ„í˜‘ ë°©ì§€ â†’ ë°”ì´ëŸ¬ìŠ¤ ë° ìœ„í˜‘ ë°©ì§€ ì„¤ì • ê´€ë¦¬
# â†’ ì œì™¸ ì¶”ê°€ â†’ í´ë” â†’ RAGTrace í´ë” ì„ íƒ

# 2. ì‹¤ì‹œê°„ ë³´í˜¸ ì¼ì‹œ í•´ì œ (ì„¤ì¹˜ ì¤‘ì—ë§Œ)
# Windows ë³´ì•ˆ â†’ ë°”ì´ëŸ¬ìŠ¤ ë° ìœ„í˜‘ ë°©ì§€ â†’ ì‹¤ì‹œê°„ ë³´í˜¸ ë„ê¸°

# 3. PowerShell ì‹¤í–‰ ì •ì±… í™•ì¸
Get-ExecutionPolicy
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# 4. ë””ì§€í„¸ ì„œëª… ê²€ì¦ ë¹„í™œì„±í™” (ì„ì‹œ)
Set-ExecutionPolicy Bypass -Scope Process -Force
```

### ğŸ”’ ê¶Œí•œ ë° ë³´ì•ˆ ë¬¸ì œ

#### ë¬¸ì œ: ê´€ë¦¬ì ê¶Œí•œ í•„ìš”
```
Access denied. Administrator privileges required.
```

**í•´ê²° ë°©ë²•:**

```powershell
# 1. PowerShell ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰
# ì‹œì‘ ë©”ë‰´ â†’ PowerShell â†’ ìš°í´ë¦­ â†’ "ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰"

# 2. ê¶Œí•œ í™•ì¸
net session
# ì—ëŸ¬ ì—†ì´ ì¶œë ¥ë˜ë©´ ê´€ë¦¬ì ê¶Œí•œ ë³´ìœ 

# 3. UAC ì„¤ì • í™•ì¸
# ì œì–´íŒ â†’ ì‚¬ìš©ì ê³„ì • â†’ ì‚¬ìš©ì ê³„ì • ì»¨íŠ¸ë¡¤ ì„¤ì • ë³€ê²½

# 4. ì‚¬ìš©ì ê³„ì •ì„ ê´€ë¦¬ì ê·¸ë£¹ì— ì¶”ê°€
net localgroup administrators %USERNAME% /add
```

#### ë¬¸ì œ: Windows ë²„ì „ í˜¸í™˜ì„±
```
This application requires Windows 10 or later
```

**í•´ê²° ë°©ë²•:**

```powershell
# 1. Windows ë²„ì „ í™•ì¸
winver
[System.Environment]::OSVersion

# 2. í˜¸í™˜ ëª¨ë“œ ì‹¤í–‰
# ì‹¤í–‰ íŒŒì¼ ìš°í´ë¦­ â†’ ì†ì„± â†’ í˜¸í™˜ì„± â†’ Windows 10 ëª¨ë“œ

# 3. ìµœì†Œ ìš”êµ¬ì‚¬í•­ í™•ì¸
# Windows 10 1903 (ë¹Œë“œ 18362) ì´ìƒ ê¶Œì¥
# Windows 11 ì™„ì „ ì§€ì›

# 4. ëŒ€ì•ˆ í™˜ê²½ êµ¬ì„±
# Docker Desktop ì‚¬ìš© (Windows 10 Pro/Enterprise)
# WSL2 Ubuntu í™˜ê²½ì—ì„œ ì‹¤í–‰
```

---

## 9. ê¸´ê¸‰ ë³µêµ¬ ë°©ë²•

### ğŸš¨ ì™„ì „ ì´ˆê¸°í™” ë° ì¬ì„¤ì¹˜

#### ìƒí™©: ëª¨ë“  ê²ƒì´ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œ

```bash
# 1. ì „ì²´ í™˜ê²½ ë°±ì—… (ì¤‘ìš” ë°ì´í„°)
cp .env .env.backup
cp -r data/ data_backup/
cp -r models/ models_backup/ 2>/dev/null || true

# 2. ê°€ìƒí™˜ê²½ ì™„ì „ ì‚­ì œ
rm -rf .venv  # Linux/macOS
rmdir /s /q .venv  # Windows

# 3. ìºì‹œ ì •ë¦¬
uv cache clean
pip cache purge
rm -rf ~/.cache/huggingface/  # ëª¨ë¸ ìºì‹œ

# 4. ì†ŒìŠ¤ì½”ë“œ ë¦¬ì…‹
git stash  # ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë°±ì—…
git fetch origin
git reset --hard origin/main

# 5. ì™„ì „ ì¬ì„¤ì¹˜
uv sync --all-extras

# 6. í™˜ê²½ ì„¤ì • ë³µì›
cp .env.backup .env
cp -r data_backup/* data/
cp -r models_backup/* models/ 2>/dev/null || true
```

### ğŸ”„ ë‹¨ê³„ë³„ ë³µêµ¬ ì§„ë‹¨

#### Step 1: ê¸°ë³¸ í™˜ê²½ í™•ì¸

```bash
# Python ì„¤ì¹˜ ë° ë²„ì „ í™•ì¸
python --version
which python  # Linux/macOS
where python   # Windows

# UV ì„¤ì¹˜ í™•ì¸
uv --version

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
ping google.com
curl -I https://pypi.org
```

#### Step 2: í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸

```bash
# í•„ìˆ˜ íŒŒì¼ ì¡´ì¬ í™•ì¸
ls cli.py pyproject.toml src/
ls .env 2>/dev/null || echo ".env file missing"

# ê¶Œí•œ í™•ì¸
ls -la .  # Linux/macOS
Get-Acl .  # Windows
```

#### Step 3: ì˜ì¡´ì„± í™•ì¸

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate  # Linux/macOS
.venv\Scripts\activate     # Windows

# í•µì‹¬ íŒ¨í‚¤ì§€ í™•ì¸
python -c "
packages = ['streamlit', 'pandas', 'numpy', 'torch', 'ragas']
for pkg in packages:
    try:
        __import__(pkg)
        print(f'âœ“ {pkg}')
    except ImportError:
        print(f'âœ— {pkg}')
"
```

#### Step 4: ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸

```bash
# CLI í…ŒìŠ¤íŠ¸
python cli.py --help

# ì›¹ ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸ (5ì´ˆ í›„ ì¢…ë£Œ)
timeout 5s streamlit run src/presentation/web/main.py 2>/dev/null || true

# API ì—°ê²° í…ŒìŠ¤íŠ¸
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
print(f'Gemini API Key: {bool(os.getenv(\"GEMINI_API_KEY\"))}')
"
```

### ğŸ“ ìµœì¢… ì§€ì› ì˜µì…˜

#### ìë™ ì§„ë‹¨ ìŠ¤í¬ë¦½íŠ¸

```bash
# ì¢…í•© ì§„ë‹¨ ì‹¤í–‰
python -c "
import sys, os, platform, subprocess
print('=== RAGTrace ì§„ë‹¨ ë³´ê³ ì„œ ===')
print(f'OS: {platform.platform()}')
print(f'Python: {sys.version}')
print(f'Working Dir: {os.getcwd()}')

# í•µì‹¬ íŒŒì¼ í™•ì¸
files = ['cli.py', '.env', 'pyproject.toml']
for f in files:
    print(f'{f}: {\"âœ“\" if os.path.exists(f) else \"âœ—\"}')

# ê°€ìƒí™˜ê²½ í™•ì¸
venv_active = hasattr(sys, 'real_prefix') or (hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix)
print(f'Virtual Environment: {\"âœ“\" if venv_active else \"âœ—\"}')

# íŒ¨í‚¤ì§€ í™•ì¸
try:
    import streamlit, pandas, numpy, torch, ragas
    print('Key packages: âœ“')
except ImportError as e:
    print(f'Key packages: âœ— ({e})')

print('=== ì§„ë‹¨ ì™„ë£Œ ===')
"
```

#### ë¡œê·¸ ìˆ˜ì§‘

```bash
# ì‹œìŠ¤í…œ ë¡œê·¸ ìˆ˜ì§‘
python -c "
import datetime, subprocess, platform
timestamp = datetime.datetime.now().strftime('%Y%m%d_%H%M%S')
log_file = f'ragtrace_diagnostic_{timestamp}.log'

with open(log_file, 'w') as f:
    f.write(f'RAGTrace Diagnostic Report - {timestamp}\n')
    f.write(f'Platform: {platform.platform()}\n')
    f.write(f'Python: {platform.python_version()}\n')
    
    # íŒ¨í‚¤ì§€ ëª©ë¡
    try:
        result = subprocess.run(['pip', 'list'], capture_output=True, text=True)
        f.write(f'\nInstalled packages:\n{result.stdout}\n')
    except:
        f.write('\nCould not get package list\n')

print(f'Diagnostic log saved to: {log_file}')
"
```

#### ì»¤ë®¤ë‹ˆí‹° ì§€ì›

- **GitHub Issues**: https://github.com/ntts9990/RAGTrace/issues
- **ë””ìŠ¤ì»¤ì…˜**: GitHub Discussions í˜ì´ì§€
- **ê¸´ê¸‰ ì§€ì›**: Issueì— "ê¸´ê¸‰" ë¼ë²¨ê³¼ í•¨ê»˜ ì§„ë‹¨ ë³´ê³ ì„œ ì²¨ë¶€

---

**ğŸ¯ ë¬¸ì œ í•´ê²° ì„±ê³µë¥  í–¥ìƒ íŒ:**

1. **ë‹¨ê³„ë³„ ì ‘ê·¼**: í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ í•´ê²°
2. **ë¡œê·¸ í™•ì¸**: ì˜¤ë¥˜ ë©”ì‹œì§€ ì „ì²´ ë³µì‚¬
3. **í™˜ê²½ ì •ë³´**: OS, Python ë²„ì „, ì„¤ì¹˜ ë°©ë²• ëª…ì‹œ
4. **ì¬í˜„ ê°€ëŠ¥**: ë¬¸ì œ ë°œìƒ ë‹¨ê³„ ì •í™•íˆ ê¸°ìˆ 
5. **ë°±ì—… ìš°ì„ **: ì¤‘ìš” ë°ì´í„°ëŠ” í•­ìƒ ë°±ì—… í›„ ì‘ì—…

ì´ ê°€ì´ë“œë¡œ í•´ê²°ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìˆë‹¤ë©´, ì§„ë‹¨ ë³´ê³ ì„œì™€ í•¨ê»˜ GitHub Issuesì— ë¬¸ì˜í•´ ì£¼ì„¸ìš”.