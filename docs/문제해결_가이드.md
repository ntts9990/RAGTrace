# 🛠️ RAGTrace 종합 문제해결 가이드

**모든 플랫폼과 환경을 위한 완전한 문제해결 솔루션**

이 가이드는 RAGTrace 사용 중 발생할 수 있는 모든 문제에 대한 체계적인 해결 방법을 제공합니다.

## 📋 목차

1. [설치 관련 문제](#1-설치-관련-문제)
2. [실행 및 시작 문제](#2-실행-및-시작-문제)
3. [평가 및 성능 문제](#3-평가-및-성능-문제)
4. [웹 대시보드 문제](#4-웹-대시보드-문제)
5. [API 및 연결 문제](#5-api-및-연결-문제)
6. [BGE-M3 모델 문제](#6-bge-m3-모델-문제)
7. [데이터 및 파일 문제](#7-데이터-및-파일-문제)
8. [Windows 특화 문제](#8-windows-특화-문제)
9. [긴급 복구 방법](#9-긴급-복구-방법)

---

## 1. 설치 관련 문제

### 🐍 Python 설치 문제

#### 문제: Python이 인식되지 않음
```
'python'은(는) 내부 또는 외부 명령, 실행할 수 있는 프로그램, 또는 배치 파일이 아닙니다.
```

**해결 방법:**

**Windows:**
```powershell
# 1. Python 설치 확인
where python

# 2. PATH 환경변수 확인
echo $env:PATH

# 3. Python PATH 수동 추가
$env:PATH += ";C:\Program Files\Python311;C:\Program Files\Python311\Scripts"

# 4. 영구 설정 (시스템 환경변수 편집)
# 제어판 → 시스템 → 고급 시스템 설정 → 환경 변수
```

**macOS/Linux:**
```bash
# 1. Python 위치 확인
which python3

# 2. 심볼릭 링크 생성
sudo ln -s /usr/bin/python3 /usr/local/bin/python

# 3. .bashrc 또는 .zshrc에 alias 추가
echo "alias python=python3" >> ~/.bashrc
source ~/.bashrc
```

#### 문제: 잘못된 Python 버전
```
Python 3.9.7 detected. Python 3.11+ required.
```

**해결 방법:**

```powershell
# Windows - 최신 Python 3.11 설치
# https://www.python.org/downloads/release/python-3119/
# 설치 시 "Add Python to PATH" 체크 필수

# macOS - Homebrew 사용
brew install python@3.11

# Linux - 패키지 매니저 사용
sudo apt update
sudo apt install python3.11 python3.11-venv python3.11-pip
```

### 📦 UV 패키지 매니저 문제

#### 문제: UV 설치 실패
```
'uv' is not recognized as an internal or external command
```

**해결 방법:**

```powershell
# Windows
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

# 또는 pip으로 설치
pip install uv

# macOS
curl -LsSf https://astral.sh/uv/install.sh | sh

# 또는 Homebrew
brew install uv

# Linux
curl -LsSf https://astral.sh/uv/install.sh | sh
```

#### 문제: UV 동기화 실패
```
error: Failed to download distributions
```

**해결 방법:**

```bash
# 1. UV 캐시 정리
uv cache clean

# 2. 네트워크 설정 확인 (프록시 환경)
export HTTP_PROXY=http://proxy.company.com:8080
export HTTPS_PROXY=http://proxy.company.com:8080

# 3. 타임아웃 증가
uv sync --timeout 300

# 4. 개별 의존성 설치
uv add streamlit pandas numpy torch
```

### 🔧 의존성 충돌 문제

#### 문제: 패키지 버전 충돌
```
ERROR: pip's dependency resolver does not currently have a solution
```

**해결 방법:**

```bash
# 1. 가상환경 재생성
rm -rf .venv  # Linux/macOS
rmdir /s /q .venv  # Windows

uv sync --all-extras

# 2. 특정 버전 강제 설치
uv add "torch==2.5.1+cpu" --index https://download.pytorch.org/whl/cpu

# 3. 충돌 패키지 수동 해결
uv tree  # 의존성 트리 확인
uv remove problematic-package
uv add compatible-package
```

---

## 2. 실행 및 시작 문제

### ⚡ 가상환경 활성화 문제

#### 문제: 가상환경 활성화 실패
```
cannot be loaded because running scripts is disabled on this system
```

**해결 방법:**

**Windows:**
```powershell
# 1. 실행 정책 변경 (관리자 권한)
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# 2. 일회성 실행
powershell -ExecutionPolicy Bypass -Command ".venv\Scripts\Activate.ps1"

# 3. 배치 파일로 활성화
.venv\Scripts\activate.bat
```

**macOS/Linux:**
```bash
# 1. 권한 확인
chmod +x .venv/bin/activate

# 2. 직접 활성화
source .venv/bin/activate

# 3. 가상환경 재생성
python -m venv .venv --clear
```

### 🚀 애플리케이션 시작 문제

#### 문제: CLI 명령어 실행 실패
```
ModuleNotFoundError: No module named 'src'
```

**해결 방법:**

```bash
# 1. 올바른 디렉토리 확인
pwd
ls cli.py  # 파일이 존재해야 함

# 2. Python 경로 설정
export PYTHONPATH="${PYTHONPATH}:$(pwd)"  # Linux/macOS
set PYTHONPATH=%PYTHONPATH%;%CD%  # Windows

# 3. 모듈 실행 방식 변경
python -m src.presentation.main
uv run python cli.py
```

#### 문제: 웹 대시보드 시작 실패
```
streamlit : The term 'streamlit' is not recognized
```

**해결 방법:**

```bash
# 1. 가상환경 활성화 확인
which streamlit  # Linux/macOS
where streamlit  # Windows

# 2. Streamlit 재설치
pip install streamlit --force-reinstall

# 3. 직접 모듈 실행
python -m streamlit run src/presentation/web/main.py

# 4. UV 사용
uv run streamlit run src/presentation/web/main.py
```

---

## 3. 평가 및 성능 문제

### 📊 평가 실행 문제

#### 문제: 평가가 0%에서 멈춤 (LangChain 타임아웃)
```
Evaluation progress: 0%... (계속 멈춤)
```

**해결 방법:**

```bash
# v2.0에서 해결된 문제이지만, 레거시 설치의 경우:

# 1. 최신 버전 업데이트
git pull origin main
uv sync --all-extras

# 2. HTTP 직접 호출 어댑터 확인
python -c "
from src.container import container
llm_adapter = container.llm_adapter()
print(f'LLM Adapter: {type(llm_adapter).__name__}')
"

# 3. 네트워크 설정 확인
ping google.com
nslookup generativelanguage.googleapis.com
```

#### 문제: RAGAS 평가 오류
```
RagasException: Evaluation failed
```

**해결 방법:**

```bash
# 1. 입력 데이터 검증
python cli.py validate-data your_data.json

# 2. 메모리 부족 시 배치 크기 조정
python cli.py evaluate data.json --batch-size 4

# 3. 디버그 모드 실행
python cli.py evaluate data.json --verbose --debug

# 4. 개별 메트릭 테스트
python -c "
from ragas.metrics import faithfulness
print('Faithfulness metric:', faithfulness)
"
```

### 🐌 성능 문제

#### 문제: 평가 속도가 너무 느림
```
평가 시간: 1시간+ (예상: 1-2분)
```

**해결 방법:**

```bash
# 1. GPU 사용 확인
python -c "
import torch
print(f'CUDA available: {torch.cuda.is_available()}')
print(f'Device count: {torch.cuda.device_count()}')
"

# 2. BGE-M3 최적화
echo 'BGE_M3_DEVICE="cuda"' >> .env  # GPU 사용
echo 'BGE_M3_BATCH_SIZE=16' >> .env  # 배치 크기 증가

# 3. 병렬 처리 활성화
echo 'RAGAS_NUM_WORKERS=4' >> .env

# 4. 메모리 사용량 모니터링
python -c "
import psutil
print(f'Memory usage: {psutil.virtual_memory().percent}%')
"
```

#### 문제: 메모리 부족 오류
```
CUDA out of memory. Tried to allocate 2.00 GiB
```

**해결 방법:**

```bash
# 1. CPU 모드 강제
echo 'BGE_M3_DEVICE="cpu"' >> .env

# 2. 배치 크기 감소
echo 'BGE_M3_BATCH_SIZE=2' >> .env

# 3. GPU 메모리 정리
python -c "
import torch
if torch.cuda.is_available():
    torch.cuda.empty_cache()
    print('GPU cache cleared')
"

# 4. 시스템 메모리 확인
free -h  # Linux
vm_stat  # macOS
Get-ComputerInfo | Select-Object TotalPhysicalMemory, AvailablePhysicalMemory  # Windows
```

---

## 4. 웹 대시보드 문제

### 🌐 접속 및 포트 문제

#### 문제: localhost:8501 접속 불가
```
This site can't be reached
```

**해결 방법:**

```bash
# 1. 포트 사용 확인
netstat -an | grep 8501  # Linux/macOS
netstat -an | findstr 8501  # Windows

# 2. 다른 포트로 실행
streamlit run src/presentation/web/main.py --server.port 8502

# 3. 방화벽 설정 확인
# Windows: Windows Defender 방화벽에서 Python 허용
# macOS: 시스템 환경설정 → 보안 및 개인정보보호 → 방화벽
# Linux: sudo ufw allow 8501

# 4. 네트워크 인터페이스 바인딩
streamlit run src/presentation/web/main.py --server.address 0.0.0.0
```

#### 문제: 웹 대시보드 로딩 오류
```
Error: Module not found
```

**해결 방법:**

```bash
# 1. 경로 확인
pwd
ls src/presentation/web/main.py

# 2. Python 경로 설정
export PYTHONPATH="$(pwd):$PYTHONPATH"

# 3. 직접 실행
cd src/presentation/web
streamlit run main.py

# 4. 의존성 확인
python -c "
import streamlit
import plotly
import pandas
print('All web dependencies loaded successfully')
"
```

### 📱 UI 및 기능 문제

#### 문제: 파일 업로드 실패
```
UploadedFile error: File too large
```

**해결 방법:**

```bash
# 1. Streamlit 설정 변경
mkdir -p ~/.streamlit
cat > ~/.streamlit/config.toml << EOF
[server]
maxUploadSize = 1000

[runner]
fastReruns = false
EOF

# 2. 메모리 증가
export STREAMLIT_SERVER_MAX_UPLOAD_SIZE=1000

# 3. 파일 크기 확인
ls -lh your_data.xlsx
# 200MB 미만 권장
```

#### 문제: 차트 렌더링 오류
```
Plotly charts not displaying
```

**해결 방법:**

```bash
# 1. Plotly 재설치
pip install --upgrade plotly

# 2. 브라우저 호환성 확인
# Chrome, Firefox, Safari 권장
# Internet Explorer 미지원

# 3. 차트 데이터 확인
python -c "
import pandas as pd
import plotly.express as px
df = pd.DataFrame({'x': [1,2,3], 'y': [1,2,3]})
fig = px.scatter(df, x='x', y='y')
print('Plotly working correctly')
"
```

---

## 5. API 및 연결 문제

### 🔑 API 키 문제

#### 문제: API 키 인증 실패
```
google.api_core.exceptions.Unauthenticated: 401 API key not valid
```

**해결 방법:**

```bash
# 1. .env 파일 확인
cat .env
# GEMINI_API_KEY=your_actual_key_here

# 2. API 키 형식 확인
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
key = os.getenv('GEMINI_API_KEY')
print(f'API Key length: {len(key) if key else 0}')
print(f'API Key starts with: {key[:10] if key else \"None\"}...')
"

# 3. 새 API 키 생성
# Google AI Studio: https://aistudio.google.com/app/apikey
# Naver Cloud Platform: https://console.ncloud.com/

# 4. API 키 테스트
python -c "
import google.generativeai as genai
import os
from dotenv import load_dotenv
load_dotenv()
genai.configure(api_key=os.getenv('GEMINI_API_KEY'))
model = genai.GenerativeModel('gemini-1.5-flash')
response = model.generate_content('Hello')
print('API key working correctly')
"
```

#### 문제: Naver HCX API 연결 실패
```
HCX API authentication failed
```

**해결 방법:**

```bash
# 1. HCX API 키 확인
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
key = os.getenv('CLOVA_STUDIO_API_KEY')
print(f'HCX API Key configured: {bool(key)}')
"

# 2. HCX API 테스트
python -c "
from src.infrastructure.llm.hcx_adapter import HCXAdapter
adapter = HCXAdapter()
# 테스트 요청 실행
"

# 3. 네트워크 접근 확인
curl -H \"Authorization: Bearer $CLOVA_STUDIO_API_KEY\" \
     https://clovastudio.stream.ntruss.com/
```

### 🌐 네트워크 및 연결 문제

#### 문제: DNS 해상도 실패
```
Failed to resolve hostname: generativelanguage.googleapis.com
```

**해결 방법:**

```bash
# 1. DNS 서버 확인
nslookup generativelanguage.googleapis.com
ping 8.8.8.8

# 2. 프록시 설정 (기업 환경)
export HTTP_PROXY=http://proxy.company.com:8080
export HTTPS_PROXY=https://proxy.company.com:8080

# 3. hosts 파일 확인
# Windows: C:\Windows\System32\drivers\etc\hosts
# Linux/macOS: /etc/hosts

# 4. 직접 IP 접근 테스트
python -c "
import requests
response = requests.get('https://8.8.8.8', timeout=10)
print(f'Direct IP access: {response.status_code}')
"
```

#### 문제: 타임아웃 오류
```
ReadTimeout: HTTPSConnectionPool(host='generativelanguage.googleapis.com', port=443)
```

**해결 방법:**

```bash
# 1. 타임아웃 설정 증가
echo 'API_TIMEOUT=300' >> .env

# 2. 재시도 횟수 증가
echo 'API_RETRY_COUNT=5' >> .env

# 3. 네트워크 속도 테스트
python -c "
import time
import requests
start = time.time()
response = requests.get('https://httpbin.org/delay/1')
print(f'Network latency: {time.time() - start:.2f}s')
"
```

---

## 6. BGE-M3 모델 문제

### 📥 모델 다운로드 문제

#### 문제: BGE-M3 모델 다운로드 실패
```
ConnectionError: Failed to download BGE-M3 model
```

**해결 방법:**

```bash
# 1. 수동 다운로드 (인터넷 연결 환경)
python -c "
from sentence_transformers import SentenceTransformer
model = SentenceTransformer('BAAI/bge-m3')
model.save('./models/bge-m3')
print('BGE-M3 model downloaded successfully')
"

# 2. Git LFS로 직접 다운로드
git lfs install
git clone https://huggingface.co/BAAI/bge-m3 ./models/bge-m3

# 3. 오프라인 파일 복사
# 인터넷 연결된 PC에서 다운로드 후 폐쇄망으로 복사

# 4. 모델 경로 설정
echo 'BGE_M3_MODEL_PATH="./models/bge-m3"' >> .env
```

#### 문제: 모델 로딩 실패
```
OSError: Can't load tokenizer for 'BAAI/bge-m3'
```

**해결 방법:**

```bash
# 1. 모델 파일 무결성 확인
ls -la models/bge-m3/
# config.json, tokenizer.json 등이 있어야 함

# 2. 모델 재다운로드
rm -rf models/bge-m3
python -c "
from sentence_transformers import SentenceTransformer
model = SentenceTransformer('BAAI/bge-m3')
model.save('./models/bge-m3')
"

# 3. 권한 확인
chmod -R 755 models/bge-m3

# 4. 디스크 공간 확인
df -h .  # Linux/macOS
Get-Volume  # Windows
```

### 🚀 BGE-M3 성능 문제

#### 문제: BGE-M3 실행 속도 너무 느림
```
BGE-M3 processing: 1 doc/sec (expected: 40+ doc/sec)
```

**해결 방법:**

```bash
# 1. 디바이스 설정 최적화
echo 'BGE_M3_DEVICE="auto"' >> .env  # 자동 감지

# 2. GPU 사용 (가능한 경우)
python -c "
import torch
if torch.cuda.is_available():
    print('Using CUDA GPU')
    print(f'GPU: {torch.cuda.get_device_name(0)}')
    print(f'Memory: {torch.cuda.get_device_properties(0).total_memory / 1024**3:.1f}GB')
"

# 3. 배치 크기 최적화
echo 'BGE_M3_BATCH_SIZE=16' >> .env  # GPU용
echo 'BGE_M3_BATCH_SIZE=8' >> .env   # CPU용

# 4. 멀티스레딩 활성화
echo 'BGE_M3_NUM_THREADS=4' >> .env
```

#### 문제: GPU 메모리 부족
```
RuntimeError: CUDA out of memory
```

**해결 방법:**

```bash
# 1. 메모리 정리
python -c "
import torch
torch.cuda.empty_cache()
print('GPU memory cleared')
"

# 2. 배치 크기 감소
echo 'BGE_M3_BATCH_SIZE=4' >> .env

# 3. CPU 모드 전환
echo 'BGE_M3_DEVICE="cpu"' >> .env

# 4. 메모리 사용량 모니터링
nvidia-smi  # GPU 메모리 확인
```

---

## 7. 데이터 및 파일 문제

### 📊 데이터 형식 문제

#### 문제: Excel/CSV 파일 읽기 실패
```
UnicodeDecodeError: 'utf-8' codec can't decode
```

**해결 방법:**

```bash
# 1. 인코딩 자동 감지 활성화
python cli.py import-data file.csv --auto-encoding

# 2. 특정 인코딩 지정
python cli.py import-data file.csv --encoding cp949  # 한국어
python cli.py import-data file.csv --encoding euc-kr

# 3. 파일 인코딩 확인
python -c "
import chardet
with open('file.csv', 'rb') as f:
    result = chardet.detect(f.read())
    print(f'Detected encoding: {result}')
"

# 4. 수동 인코딩 변환
python -c "
with open('file.csv', 'r', encoding='cp949') as f:
    content = f.read()
with open('file_utf8.csv', 'w', encoding='utf-8') as f:
    f.write(content)
"
```

#### 문제: 필수 컬럼 누락
```
ValidationError: Missing required columns: ['question', 'contexts', 'answer', 'ground_truth']
```

**해결 방법:**

```bash
# 1. 데이터 구조 확인
python -c "
import pandas as pd
df = pd.read_excel('your_data.xlsx')
print('Columns:', df.columns.tolist())
print('Sample data:')
print(df.head())
"

# 2. 컬럼명 매핑 생성
python cli.py import-data your_data.xlsx --column-mapping "질문:question,맥락:contexts,답변:answer,정답:ground_truth"

# 3. 표준 형식으로 변환
python -c "
import pandas as pd
df = pd.read_excel('your_data.xlsx')
df_renamed = df.rename(columns={
    '질문': 'question',
    '맥락': 'contexts', 
    '답변': 'answer',
    '정답': 'ground_truth'
})
df_renamed.to_excel('converted_data.xlsx', index=False)
"
```

### 💾 파일 권한 및 접근 문제

#### 문제: 파일 권한 오류
```
PermissionError: [Errno 13] Permission denied
```

**해결 방법:**

```bash
# Linux/macOS
chmod 755 data/
chmod 644 data/*.json

# Windows (관리자 권한)
icacls data /grant Everyone:F /T

# 파일 소유권 확인
ls -la data/  # Linux/macOS
Get-Acl data  # Windows
```

#### 문제: 디스크 공간 부족
```
OSError: [Errno 28] No space left on device
```

**해결 방법:**

```bash
# 1. 디스크 사용량 확인
df -h .  # Linux/macOS
Get-Volume  # Windows

# 2. 임시 파일 정리
rm -rf /tmp/ragtrace_*  # Linux/macOS
del /q %TEMP%\ragtrace_*  # Windows

# 3. 캐시 정리
uv cache clean
pip cache purge

# 4. 큰 파일 찾기
find . -size +100M -type f  # Linux/macOS
forfiles /S /C "cmd /c if @fsize gtr 104857600 echo @path @fsize"  # Windows
```

---

## 8. Windows 특화 문제

### 🏢 기업 환경 문제

#### 문제: 그룹 정책으로 인한 설치 제한
```
Group Policy prevents installation
```

**해결 방법:**

```powershell
# 1. 사용자 레벨 설치
python -m pip install --user package_name

# 2. 가상환경 사용 (권장)
python -m venv .venv --without-pip
.venv\Scripts\activate
python -m ensurepip

# 3. 포터블 Python 사용
# https://www.python.org/downloads/windows/ 에서 embeddable zip 다운로드

# 4. IT 관리자에게 예외 요청
# 필요한 패키지 목록과 비즈니스 사유 제시
```

#### 문제: 안티바이러스 소프트웨어 간섭
```
Windows Defender blocked the operation
```

**해결 방법:**

```powershell
# 1. Windows Defender 예외 추가
# Windows 보안 → 바이러스 및 위협 방지 → 바이러스 및 위협 방지 설정 관리
# → 제외 추가 → 폴더 → RAGTrace 폴더 선택

# 2. 실시간 보호 일시 해제 (설치 중에만)
# Windows 보안 → 바이러스 및 위협 방지 → 실시간 보호 끄기

# 3. PowerShell 실행 정책 확인
Get-ExecutionPolicy
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# 4. 디지털 서명 검증 비활성화 (임시)
Set-ExecutionPolicy Bypass -Scope Process -Force
```

### 🔒 권한 및 보안 문제

#### 문제: 관리자 권한 필요
```
Access denied. Administrator privileges required.
```

**해결 방법:**

```powershell
# 1. PowerShell 관리자 권한으로 실행
# 시작 메뉴 → PowerShell → 우클릭 → "관리자 권한으로 실행"

# 2. 권한 확인
net session
# 에러 없이 출력되면 관리자 권한 보유

# 3. UAC 설정 확인
# 제어판 → 사용자 계정 → 사용자 계정 컨트롤 설정 변경

# 4. 사용자 계정을 관리자 그룹에 추가
net localgroup administrators %USERNAME% /add
```

#### 문제: Windows 버전 호환성
```
This application requires Windows 10 or later
```

**해결 방법:**

```powershell
# 1. Windows 버전 확인
winver
[System.Environment]::OSVersion

# 2. 호환 모드 실행
# 실행 파일 우클릭 → 속성 → 호환성 → Windows 10 모드

# 3. 최소 요구사항 확인
# Windows 10 1903 (빌드 18362) 이상 권장
# Windows 11 완전 지원

# 4. 대안 환경 구성
# Docker Desktop 사용 (Windows 10 Pro/Enterprise)
# WSL2 Ubuntu 환경에서 실행
```

---

## 9. 긴급 복구 방법

### 🚨 완전 초기화 및 재설치

#### 상황: 모든 것이 작동하지 않을 때

```bash
# 1. 전체 환경 백업 (중요 데이터)
cp .env .env.backup
cp -r data/ data_backup/
cp -r models/ models_backup/ 2>/dev/null || true

# 2. 가상환경 완전 삭제
rm -rf .venv  # Linux/macOS
rmdir /s /q .venv  # Windows

# 3. 캐시 정리
uv cache clean
pip cache purge
rm -rf ~/.cache/huggingface/  # 모델 캐시

# 4. 소스코드 리셋
git stash  # 로컬 변경사항 백업
git fetch origin
git reset --hard origin/main

# 5. 완전 재설치
uv sync --all-extras

# 6. 환경 설정 복원
cp .env.backup .env
cp -r data_backup/* data/
cp -r models_backup/* models/ 2>/dev/null || true
```

### 🔄 단계별 복구 진단

#### Step 1: 기본 환경 확인

```bash
# Python 설치 및 버전 확인
python --version
which python  # Linux/macOS
where python   # Windows

# UV 설치 확인
uv --version

# 네트워크 연결 확인
ping google.com
curl -I https://pypi.org
```

#### Step 2: 프로젝트 구조 확인

```bash
# 필수 파일 존재 확인
ls cli.py pyproject.toml src/
ls .env 2>/dev/null || echo ".env file missing"

# 권한 확인
ls -la .  # Linux/macOS
Get-Acl .  # Windows
```

#### Step 3: 의존성 확인

```bash
# 가상환경 활성화
source .venv/bin/activate  # Linux/macOS
.venv\Scripts\activate     # Windows

# 핵심 패키지 확인
python -c "
packages = ['streamlit', 'pandas', 'numpy', 'torch', 'ragas']
for pkg in packages:
    try:
        __import__(pkg)
        print(f'✓ {pkg}')
    except ImportError:
        print(f'✗ {pkg}')
"
```

#### Step 4: 애플리케이션 테스트

```bash
# CLI 테스트
python cli.py --help

# 웹 대시보드 테스트 (5초 후 종료)
timeout 5s streamlit run src/presentation/web/main.py 2>/dev/null || true

# API 연결 테스트
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
print(f'Gemini API Key: {bool(os.getenv(\"GEMINI_API_KEY\"))}')
"
```

### 📞 최종 지원 옵션

#### 자동 진단 스크립트

```bash
# 종합 진단 실행
python -c "
import sys, os, platform, subprocess
print('=== RAGTrace 진단 보고서 ===')
print(f'OS: {platform.platform()}')
print(f'Python: {sys.version}')
print(f'Working Dir: {os.getcwd()}')

# 핵심 파일 확인
files = ['cli.py', '.env', 'pyproject.toml']
for f in files:
    print(f'{f}: {\"✓\" if os.path.exists(f) else \"✗\"}')

# 가상환경 확인
venv_active = hasattr(sys, 'real_prefix') or (hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix)
print(f'Virtual Environment: {\"✓\" if venv_active else \"✗\"}')

# 패키지 확인
try:
    import streamlit, pandas, numpy, torch, ragas
    print('Key packages: ✓')
except ImportError as e:
    print(f'Key packages: ✗ ({e})')

print('=== 진단 완료 ===')
"
```

#### 로그 수집

```bash
# 시스템 로그 수집
python -c "
import datetime, subprocess, platform
timestamp = datetime.datetime.now().strftime('%Y%m%d_%H%M%S')
log_file = f'ragtrace_diagnostic_{timestamp}.log'

with open(log_file, 'w') as f:
    f.write(f'RAGTrace Diagnostic Report - {timestamp}\n')
    f.write(f'Platform: {platform.platform()}\n')
    f.write(f'Python: {platform.python_version()}\n')
    
    # 패키지 목록
    try:
        result = subprocess.run(['pip', 'list'], capture_output=True, text=True)
        f.write(f'\nInstalled packages:\n{result.stdout}\n')
    except:
        f.write('\nCould not get package list\n')

print(f'Diagnostic log saved to: {log_file}')
"
```

#### 커뮤니티 지원

- **GitHub Issues**: https://github.com/ntts9990/RAGTrace/issues
- **디스커션**: GitHub Discussions 페이지
- **긴급 지원**: Issue에 "긴급" 라벨과 함께 진단 보고서 첨부

---

**🎯 문제 해결 성공률 향상 팁:**

1. **단계별 접근**: 하나씩 차근차근 해결
2. **로그 확인**: 오류 메시지 전체 복사
3. **환경 정보**: OS, Python 버전, 설치 방법 명시
4. **재현 가능**: 문제 발생 단계 정확히 기술
5. **백업 우선**: 중요 데이터는 항상 백업 후 작업

이 가이드로 해결되지 않는 문제가 있다면, 진단 보고서와 함께 GitHub Issues에 문의해 주세요.