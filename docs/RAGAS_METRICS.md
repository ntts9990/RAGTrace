# ğŸ“Š RAGAS í‰ê°€ ì§€í‘œ: ì™„ì „ ê°€ì´ë“œ

> ğŸ¯ **RAGAS**: "Supercharge Your LLM Application Evaluations" by [ExplodingGradients](https://github.com/explodinggradients/ragas)

## ğŸ¯ RAGASë€ ë¬´ì—‡ì¸ê°€?

RAGAS(Retrieval-Augmented Generation Assessment)ëŠ” ExplodingGradientsì—ì„œ ê°œë°œí•œ **RAG ì‹œìŠ¤í…œ í‰ê°€ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì˜¤í”ˆì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬**ì…ë‹ˆë‹¤. 

### í•µì‹¬ íŠ¹ì§•
- **ğŸ¯ ê°ê´€ì  ë©”íŠ¸ë¦­**: LLM ê¸°ë°˜ ì •ë°€ í‰ê°€
- **ğŸ§ª ì§€ëŠ¥ì  í…ŒìŠ¤íŠ¸**: ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
- **ğŸ“Š ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸**: ì‹¤í–‰ ê°€ëŠ¥í•œ ê°œì„  ë°©í–¥ ì œì‹œ
- **ğŸ”— ì™„ë²½í•œ í†µí•©**: LangChain, Hugging Face ë“± ì£¼ìš” í”„ë ˆì„ì›Œí¬ ì§€ì›

### RAGë€?
RAG(Retrieval-Augmented Generation)ëŠ” ì™¸ë¶€ ì§€ì‹ì„ ê²€ìƒ‰í•˜ì—¬ LLMì˜ ë‹µë³€ ìƒì„±ì„ ë³´ê°•í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤:

```mermaid
graph LR
    A[ì§ˆë¬¸] --> B[ë¬¸ì„œ ê²€ìƒ‰]
    B --> C[ì»¨í…ìŠ¤íŠ¸]
    A --> D[LLM]
    C --> D
    D --> E[ë‹µë³€]
```

RAGASëŠ” ì´ ê³¼ì •ì˜ **ê²€ìƒ‰(Retrieval)**ê³¼ **ìƒì„±(Generation)** í’ˆì§ˆì„ ê°ê° ì¸¡ì •í•©ë‹ˆë‹¤.

## ğŸ“‹ 4ê°€ì§€ í•µì‹¬ ë©”íŠ¸ë¦­

### 1. ğŸ¯ Faithfulness (ì¶©ì‹¤ì„±)
**"ë‹µë³€ì´ ì£¼ì–´ì§„ ì»¨í…ìŠ¤íŠ¸ì— ì–¼ë§ˆë‚˜ ì¶©ì‹¤í•œê°€?"**

#### ì¸¡ì • ëª©ì 
- LLMì˜ **í™˜ê°(Hallucination) í˜„ìƒ** íƒì§€
- ë‹µë³€ì´ ì»¨í…ìŠ¤íŠ¸ ë‚´ìš©ì„ ë²—ì–´ë‚˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸
- ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë‹µë³€ ìƒì„± ëŠ¥ë ¥ í‰ê°€

#### ê³„ì‚° ë°©ì‹
```python
# RAGAS ë‚´ë¶€ ì²˜ë¦¬ ê³¼ì •
1. ë‹µë³€ì„ ê°œë³„ Statementë¡œ ë¶„í•´
2. ê° Statementê°€ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë’·ë°›ì¹¨ë˜ëŠ”ì§€ ê²€ì¦
3. Faithfulness = ë’·ë°›ì¹¨ë˜ëŠ” Statement ìˆ˜ / ì „ì²´ Statement ìˆ˜
```

#### ì‹¤ì œ ì˜ˆì‹œ
```
ğŸ“‹ ì»¨í…ìŠ¤íŠ¸: "ì„œìš¸ì€ ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ì´ë©°, ì¸êµ¬ëŠ” ì•½ 970ë§Œ ëª…ì…ë‹ˆë‹¤."

âœ… ë†’ì€ Faithfulness (1.0)
ë‹µë³€: "ì„œìš¸ì€ ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ì…ë‹ˆë‹¤."
â†’ ëª¨ë“  ë‚´ìš©ì´ ì»¨í…ìŠ¤íŠ¸ì—ì„œ í™•ì¸ë¨

âŒ ë‚®ì€ Faithfulness (0.5) 
ë‹µë³€: "ì„œìš¸ì€ ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ì´ë©°, ì£¼ìš” ì‚°ì—…ì€ ì–´ì—…ì…ë‹ˆë‹¤."
â†’ "ì£¼ìš” ì‚°ì—…ì€ ì–´ì—…"ì€ ì»¨í…ìŠ¤íŠ¸ì— ì—†ëŠ” ë‚´ìš©
```

#### ê°œì„  ë°©ë²•
- **í”„ë¡¬í”„íŠ¸ ìµœì í™”**: "ì œê³µëœ ì •ë³´ë§Œì„ ë°”íƒ•ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”"
- **ì»¨í…ìŠ¤íŠ¸ í’ˆì§ˆ í–¥ìƒ**: ë” ì •í™•í•˜ê³  ì™„ì „í•œ ì •ë³´ ê²€ìƒ‰
- **í›„ì²˜ë¦¬ ê²€ì¦**: ë‹µë³€ ìƒì„± í›„ ì‚¬ì‹¤ í™•ì¸ ë‹¨ê³„ ì¶”ê°€

### 2. ğŸ¯ Answer Relevancy (ë‹µë³€ ê´€ë ¨ì„±)
**"ë‹µë³€ì´ ì§ˆë¬¸ì— ì–¼ë§ˆë‚˜ ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ë˜ëŠ”ê°€?"**

#### ì¸¡ì • ëª©ì 
- ì§ˆë¬¸ì˜ í•µì‹¬ ì˜ë„ë¥¼ ì •í™•íˆ íŒŒì•…í–ˆëŠ”ì§€ í‰ê°€
- ë¶ˆí•„ìš”í•œ ë¶€ê°€ ì •ë³´ë¡œ ì¸í•œ ë‹µë³€ í’ˆì§ˆ ì €í•˜ ë°©ì§€
- ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì •ë³´ë¥¼ ì •í™•íˆ ì œê³µí•˜ëŠ”ì§€ í™•ì¸

#### ê³„ì‚° ë°©ì‹
```python
# RAGASì˜ Answer Relevancy ì¸¡ì •
1. ì›ë³¸ ì§ˆë¬¸ì—ì„œ í•µì‹¬ í‚¤ì›Œë“œ ì¶”ì¶œ
2. ë‹µë³€ê³¼ ì§ˆë¬¸ ê°„ì˜ ì˜ë¯¸ì  ìœ ì‚¬ë„ ê³„ì‚°
3. ë‹µë³€ì˜ ê°„ê²°ì„±ê³¼ í•µì‹¬ì„± í‰ê°€
4. 0~1 ì‚¬ì´ì˜ ì ìˆ˜ë¡œ ì •ê·œí™”
```

#### ì‹¤ì œ ì˜ˆì‹œ
```
â“ ì§ˆë¬¸: "íŒŒì´ì¬ì—ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•˜ëŠ” ë°©ë²•ì€?"

âœ… ë†’ì€ Answer Relevancy (0.95)
ë‹µë³€: "íŒŒì´ì¬ì—ì„œëŠ” sort() ë©”ì„œë“œë‚˜ sorted() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤."
â†’ ì§ˆë¬¸ì— ì§ì ‘ì ì´ê³  ê°„ê²°í•œ ë‹µë³€

âŒ ë‚®ì€ Answer Relevancy (0.4)
ë‹µë³€: "íŒŒì´ì¬ì€ 1991ë…„ì— ë§Œë“¤ì–´ì§„ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤. 
ë¦¬ìŠ¤íŠ¸ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°ì´ë©°, ì •ë ¬ì€ 
ë°ì´í„°ë¥¼ ìˆœì„œëŒ€ë¡œ ë°°ì—´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. sort() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤..."
â†’ ì§ˆë¬¸ì— ë¶ˆí•„ìš”í•œ ë°°ê²½ ì •ë³´ê°€ ë„ˆë¬´ ë§ìŒ
```

#### ê°œì„  ë°©ë²•
- **ì§ˆë¬¸ ë¶„ì„ ê°•í™”**: ì§ˆë¬¸ì˜ í•µì‹¬ ì˜ë„ íŒŒì•… ì •í™•ë„ í–¥ìƒ
- **ë‹µë³€ ê¸¸ì´ ìµœì í™”**: ë„ˆë¬´ ê¸¸ê±°ë‚˜ ì§§ì§€ ì•Šì€ ì ì ˆí•œ ê¸¸ì´
- **í•µì‹¬ ì •ë³´ ìš°ì„ **: ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ë¨¼ì € ì œì‹œ

### 3. ğŸ¯ Context Precision (ì»¨í…ìŠ¤íŠ¸ ì •í™•ì„±)
**"ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ê°€ ì§ˆë¬¸ê³¼ ì–¼ë§ˆë‚˜ ê´€ë ¨ì´ ìˆëŠ”ê°€?"**

#### ì¸¡ì • ëª©ì 
- **ê²€ìƒ‰ ì‹œìŠ¤í…œ(Retriever)ì˜ ì •í™•ë„** í‰ê°€
- ë¶ˆí•„ìš”í•œ ë…¸ì´ì¦ˆ ì •ë³´ í•„í„°ë§ ì„±ëŠ¥ ì¸¡ì •
- ì»¨í…ìŠ¤íŠ¸ í’ˆì§ˆì´ ë‹µë³€ ìƒì„±ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ë¶„ì„

#### ê³„ì‚° ë°©ì‹
```python
# Context Precision ê³„ì‚° ê³¼ì •
1. ê° ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ ë¬¸ì„œë¥¼ ë¬¸ì¥ ë‹¨ìœ„ë¡œ ë¶„ë¦¬
2. ê° ë¬¸ì¥ì´ ì§ˆë¬¸ ë‹µë³€ì— í•„ìš”í•œì§€ LLMìœ¼ë¡œ íŒë‹¨
3. Context Precision = ê´€ë ¨ ìˆëŠ” ë¬¸ì¥ ìˆ˜ / ì „ì²´ ë¬¸ì¥ ìˆ˜
```

#### ì‹¤ì œ ì˜ˆì‹œ
```
â“ ì§ˆë¬¸: "React Hookì˜ ì¥ì ì€ ë¬´ì—‡ì¸ê°€ìš”?"

âœ… ë†’ì€ Context Precision (1.0)
ì»¨í…ìŠ¤íŠ¸: 
- "React Hookì€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤."
- "Hookì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§€ê³  ì»´í¬ë„ŒíŠ¸ ë¡œì§ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
â†’ ëª¨ë“  ë¬¸ì¥ì´ ì§ˆë¬¸ê³¼ ì§ì ‘ ê´€ë ¨ë¨

âŒ ë‚®ì€ Context Precision (0.33)
ì»¨í…ìŠ¤íŠ¸:
- "ReactëŠ” Facebookì—ì„œ ê°œë°œí•œ JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤." (ê´€ë ¨ ì—†ìŒ)
- "ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤." (ê´€ë ¨ ì—†ìŒ)  
- "Hookì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤." (ê´€ë ¨ ìˆìŒ)
â†’ 3ë¬¸ì¥ ì¤‘ 1ë¬¸ì¥ë§Œ ê´€ë ¨ë¨
```

#### ê°œì„  ë°©ë²•
- **ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ìµœì í™”**: ë” ì •í™•í•œ ìœ ì‚¬ë„ ê³„ì‚°
- **í•„í„°ë§ ë¡œì§ ê°•í™”**: ê´€ë ¨ ì—†ëŠ” ë¬¸ì„œ ì‚¬ì „ ì œê±°
- **ì¸ë±ì‹± ê°œì„ **: ë¬¸ì„œ ë¶„í• ê³¼ ë©”íƒ€ë°ì´í„° í™œìš©

### 4. ğŸ¯ Context Recall (ì»¨í…ìŠ¤íŠ¸ ì¬í˜„ìœ¨)
**"ì •ë‹µì— í•„ìš”í•œ ëª¨ë“  ì •ë³´ê°€ ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ì— í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?"**

#### ì¸¡ì • ëª©ì 
- **ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì™„ì„±ë„** í‰ê°€
- ì¤‘ìš”í•œ ì •ë³´ ëˆ„ë½ ì—¬ë¶€ í™•ì¸
- Ground Truth ë‹µë³€ ìƒì„±ì— í•„ìš”í•œ ì •ë³´ ì¶©ì¡±ë„ ì¸¡ì •

#### ê³„ì‚° ë°©ì‹
```python
# Context Recall ê³„ì‚° (Ground Truth í•„ìš”)
1. Ground Truth ë‹µë³€ì„ ê°œë³„ ì •ë³´ ë‹¨ìœ„ë¡œ ë¶„í•´
2. ê° ì •ë³´ê°€ ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
3. Context Recall = ì»¨í…ìŠ¤íŠ¸ì—ì„œ í™•ì¸ë˜ëŠ” ì •ë³´ ìˆ˜ / Ground Truthì˜ ì „ì²´ ì •ë³´ ìˆ˜
```

#### ì‹¤ì œ ì˜ˆì‹œ
```
â“ ì§ˆë¬¸: "Clean Architectureì˜ í•µì‹¬ ì›ì¹™ì€?"
ğŸ“ Ground Truth: "ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ê³¼ ê´€ì‹¬ì‚¬ ë¶„ë¦¬"

âœ… ë†’ì€ Context Recall (1.0)
ì»¨í…ìŠ¤íŠ¸: 
- "Clean Architectureì˜ í•µì‹¬ì€ ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì…ë‹ˆë‹¤."
- "ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë¥¼ í†µí•´ ê° ê³„ì¸µì˜ ì±…ì„ì„ ëª…í™•íˆ í•©ë‹ˆë‹¤."
â†’ Ground Truthì˜ ëª¨ë“  ì •ë³´ê°€ í¬í•¨ë¨

âŒ ë‚®ì€ Context Recall (0.5)
ì»¨í…ìŠ¤íŠ¸:
- "Clean ArchitectureëŠ” ë¡œë²„íŠ¸ ë§ˆí‹´ì´ ì œì•ˆí–ˆìŠµë‹ˆë‹¤."
- "ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì´ ì¤‘ìš”í•©ë‹ˆë‹¤."
â†’ "ê´€ì‹¬ì‚¬ ë¶„ë¦¬"ì— ëŒ€í•œ ì •ë³´ ëˆ„ë½
```

#### ê°œì„  ë°©ë²•
- **ê²€ìƒ‰ ë²”ìœ„ í™•ëŒ€**: ë” ë§ì€ ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰
- **ë‹¤ì–‘í•œ ê²€ìƒ‰ ì „ëµ**: í‚¤ì›Œë“œ, ì˜ë¯¸ì , í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì¡°í•©
- **ì¬ê·€ì  ê²€ìƒ‰**: ì´ˆê¸° ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¶”ê°€ ê²€ìƒ‰

## ğŸ† RAGAS Score (ì¢…í•© ì ìˆ˜)

### ê³„ì‚° ë°©ì‹
```python
# 4ê°œ ë©”íŠ¸ë¦­ì˜ í‰ê· ê°’
ragas_score = (faithfulness + answer_relevancy + context_precision + context_recall) / 4
```

### ì ìˆ˜ í•´ì„ ê°€ì´ë“œ
```
ğŸŸ¢ 0.8 - 1.0: ìš°ìˆ˜ (Excellent)
   â†’ í”„ë¡œë•ì…˜ í™˜ê²½ì— ì í•©í•œ ë†’ì€ í’ˆì§ˆ

ğŸŸ¡ 0.6 - 0.8: ì–‘í˜¸ (Good)  
   â†’ ì¼ë°˜ì ì¸ ì‚¬ìš©ì—ëŠ” ì¶©ë¶„í•˜ë‚˜ ê°œì„  ì—¬ì§€ ìˆìŒ

ğŸŸ  0.4 - 0.6: ë³´í†µ (Fair)
   â†’ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì€ ì‘ë™í•˜ë‚˜ í’ˆì§ˆ ê°œì„  í•„ìš”

ğŸ”´ 0.0 - 0.4: ê°œì„  í•„ìš” (Poor)
   â†’ ì‹¬ê°í•œ ë¬¸ì œê°€ ìˆì–´ ì¦‰ì‹œ ê°œì„  í•„ìš”
```

## ğŸ› ï¸ í•œêµ­ì–´ í‰ê°€ íŠ¹ì„±

### ì–¸ì–´ì  íŠ¹ì„± ê³ ë ¤ì‚¬í•­
- **ì¡´ëŒ“ë§ê³¼ ë°˜ë§**: ë¬¸ë§¥ì— ë”°ë¥¸ ì ì ˆí•œ ì–´ì¡° ì„ íƒ
- **ê°„ì ‘ í‘œí˜„**: í•œêµ­ì–´ì˜ í•¨ì¶•ì  ì˜ë¯¸ ì „ë‹¬ ë°©ì‹
- **ë¬¸í™”ì  ë§¥ë½**: í•œêµ­ ë¬¸í™” íŠ¹ìœ ì˜ í‘œí˜„ê³¼ ê´€ë¡€
- **í•œìì–´ì™€ ìˆœìš°ë¦¬ë§**: ìš©ì–´ ì„ íƒì˜ ë‰˜ì•™ìŠ¤ ì°¨ì´

### ìµœì í™” ì „ëµ
```python
# í•œêµ­ì–´ ìµœì í™”ëœ RAGAS ì„¤ì •
korean_optimized_settings = {
    "temperature": 0.1,  # ì¼ê´€ì„± ìˆëŠ” í‰ê°€ë¥¼ ìœ„í•œ ë‚®ì€ ê°’
    "model": "gemini-2.5-flash-preview-05-20",  # í•œêµ­ì–´ ì„±ëŠ¥ ìš°ìˆ˜
    "context_length": 4000,  # ì¶©ë¶„í•œ ì»¨í…ìŠ¤íŠ¸ ì²˜ë¦¬
    "rate_limiting": True  # ì•ˆì •ì ì¸ API í˜¸ì¶œ
}
```

## ğŸ“ˆ ì„±ëŠ¥ ê°œì„  ì „ëµ

### ë©”íŠ¸ë¦­ë³„ ê°œì„  ë°©ë²•

#### Faithfulness ê°œì„ 
```python
# 1. í”„ë¡¬í”„íŠ¸ ê°œì„ 
faithfulness_prompt = """
ì£¼ì–´ì§„ ì»¨í…ìŠ¤íŠ¸ë§Œì„ ë°”íƒ•ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.
ì»¨í…ìŠ¤íŠ¸ì— ì—†ëŠ” ë‚´ìš©ì€ ì ˆëŒ€ ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”.
í™•ì‹¤í•˜ì§€ ì•Šì€ ì •ë³´ëŠ” "ì œê³µëœ ì •ë³´ë¡œëŠ” í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"ë¼ê³  ë‹µí•˜ì„¸ìš”.
"""

# 2. í›„ì²˜ë¦¬ ê²€ì¦
def verify_faithfulness(answer, context):
    statements = extract_statements(answer)
    verified = verify_against_context(statements, context)
    return verified
```

#### Answer Relevancy ê°œì„ 
```python
# 1. ì§ˆë¬¸ ì˜ë„ ë¶„ì„
def analyze_question_intent(question):
    intent = classify_question_type(question)  # ì‚¬ì‹¤í˜•, ë°©ë²•í˜•, ë¹„êµí˜• ë“±
    keywords = extract_key_terms(question)
    return intent, keywords

# 2. ë‹µë³€ êµ¬ì¡° ìµœì í™”
def structure_answer(content, question_type):
    if question_type == "method":
        return f"ë°©ë²•: {content['main_answer']}\nì¶”ê°€ ì •ë³´: {content['details']}"
    elif question_type == "factual":
        return content['direct_answer']
```

#### Context Precision ê°œì„ 
```python
# 1. ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ê°œì„ 
def enhanced_retrieval(query, documents):
    # í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰: í‚¤ì›Œë“œ + ì˜ë¯¸ì  ê²€ìƒ‰
    keyword_results = keyword_search(query, documents)
    semantic_results = semantic_search(query, documents)
    
    # ê²°ê³¼ ë³‘í•© ë° ì¬ë­í‚¹
    combined_results = merge_and_rerank(keyword_results, semantic_results)
    return combined_results

# 2. ì‚¬í›„ í•„í„°ë§
def filter_irrelevant_context(contexts, query):
    relevance_scores = [calculate_relevance(ctx, query) for ctx in contexts]
    threshold = 0.7
    return [ctx for ctx, score in zip(contexts, relevance_scores) if score > threshold]
```

#### Context Recall ê°œì„ 
```python
# 1. ë‹¤ë‹¨ê³„ ê²€ìƒ‰
def multi_stage_retrieval(query, ground_truth):
    # 1ì°¨: ê¸°ë³¸ ê²€ìƒ‰
    initial_results = basic_search(query)
    
    # 2ì°¨: ëˆ„ë½ëœ ì •ë³´ íƒì§€ ë° ì¶”ê°€ ê²€ìƒ‰
    missing_info = detect_missing_information(initial_results, ground_truth)
    additional_results = search_missing_info(missing_info)
    
    return initial_results + additional_results

# 2. ê²€ìƒ‰ ë²”ìœ„ í™•ëŒ€
def expand_search_scope(query):
    synonyms = get_synonyms(query)
    related_terms = get_related_terms(query)
    expanded_queries = [query] + synonyms + related_terms
    return expanded_queries
```

## ğŸ¯ ì‹¤ì „ í™œìš© íŒ

### 1. í‰ê°€ ë°ì´í„° ì¤€ë¹„
```python
# ê³ í’ˆì§ˆ í‰ê°€ ë°ì´í„°ì…‹ êµ¬ì„±
evaluation_dataset = {
    "questions": [
        "ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ ì§ˆë¬¸",
        "ë‹¤ì–‘í•œ ë‚œì´ë„ ìˆ˜ì¤€",
        "ì‹¤ì œ ì‚¬ìš©ì ì§ˆë¬¸ íŒ¨í„´ ë°˜ì˜"
    ],
    "contexts": [
        "ì§ˆë¬¸ê³¼ ê´€ë ¨ëœ ì •í™•í•œ ì •ë³´",
        "ì ì ˆí•œ ê¸¸ì´ì™€ êµ¬ì¡°",
        "ë…¸ì´ì¦ˆ ì •ë³´ ìµœì†Œí™”"
    ],
    "answers": [
        "ìì—°ìŠ¤ëŸ½ê³  ì •í™•í•œ ë‹µë³€",
        "ì ì ˆí•œ ê¸¸ì´ì™€ êµ¬ì¡°",
        "ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ìƒì„±"
    ],
    "ground_truths": [
        "ê°ê´€ì ì´ê³  ì •í™•í•œ ì •ë‹µ",
        "ì¼ê´€ëœ í’ˆì§ˆ ìœ ì§€",
        "ì „ë¬¸ê°€ ê²€ì¦ ì™„ë£Œ"
    ]
}
```

### 2. ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§
```python
# ìë™í™”ëœ í’ˆì§ˆ ëª¨ë‹ˆí„°ë§
def automated_quality_monitoring():
    current_scores = run_ragas_evaluation()
    
    if current_scores['ragas_score'] < 0.6:
        send_alert("RAGAS score dropped below threshold")
        
    if current_scores['faithfulness'] < 0.7:
        trigger_faithfulness_improvement()
        
    if current_scores['context_precision'] < 0.6:
        optimize_retrieval_system()
```

### 3. A/B í…ŒìŠ¤íŠ¸ í™œìš©
```python
# ì‹œìŠ¤í…œ ê°œì„  íš¨ê³¼ ì¸¡ì •
def ab_test_ragas_comparison(system_a, system_b, test_dataset):
    scores_a = evaluate_system(system_a, test_dataset)
    scores_b = evaluate_system(system_b, test_dataset)
    
    improvement = calculate_improvement(scores_a, scores_b)
    statistical_significance = test_significance(scores_a, scores_b)
    
    return {
        "improvement": improvement,
        "significance": statistical_significance,
        "recommendation": make_recommendation(improvement, significance)
    }
```

## ğŸ“š ì°¸ê³  ìë£Œ

### RAGAS ê³µì‹ ë¬¸ì„œ
- **ê³µì‹ ì›¹ì‚¬ì´íŠ¸**: [docs.ragas.io](https://docs.ragas.io/)
- **GitHub**: [github.com/explodinggradients/ragas](https://github.com/explodinggradients/ragas)
- **ë…¼ë¬¸**: [RAGAS: Automated Evaluation of Retrieval Augmented Generation](https://arxiv.org/abs/2309.15217)

### ì»¤ë®¤ë‹ˆí‹° ë° ì§€ì›
- **Discord ì»¤ë®¤ë‹ˆí‹°**: [RAGAS Discord](https://discord.gg/5djav8GGNZ)
- **ì˜¤í”¼ìŠ¤ ì•„ì›Œ**: ë§¤ì£¼ í™”ìš”ì¼ RAGAS íŒ€ê³¼ ì§ì ‘ ì†Œí†µ
- **ë¸”ë¡œê·¸**: [RAGAS ê³µì‹ ë¸”ë¡œê·¸](https://blog.ragas.io/)

### ì¶”ê°€ í•™ìŠµ ìë£Œ
- **LangChain í†µí•©**: RAGASì™€ LangChain ì—°ë™ ê°€ì´ë“œ
- **Hugging Face Hub**: ì‚¬ì „ í›ˆë ¨ëœ RAGAS ëª¨ë¸
- **ì‹¤ì œ ì‚¬ë¡€**: ë‹¤ì–‘í•œ ë„ë©”ì¸ì—ì„œì˜ RAGAS í™œìš© ì‚¬ë¡€

---

## ğŸ‰ ê²°ë¡ 

RAGASëŠ” RAG ì‹œìŠ¤í…œì˜ í’ˆì§ˆì„ **ê°ê´€ì ì´ê³  ì²´ê³„ì ìœ¼ë¡œ í‰ê°€**í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. 4ê°€ì§€ í•µì‹¬ ë©”íŠ¸ë¦­ì„ í†µí•´ ì‹œìŠ¤í…œì˜ ê°•ì ê³¼ ì•½ì ì„ ëª…í™•íˆ íŒŒì•…í•˜ê³ , **ë°ì´í„° ê¸°ë°˜ì˜ ê°œì„  ë°©í–¥**ì„ ì œì‹œë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì´ëŸ¬í•œ RAGASì˜ ê°•ë ¥í•¨ì„ **í•œêµ­ì–´ í™˜ê²½ì— ìµœì í™”**í•˜ì—¬ ì œê³µí•˜ë©°, **ì§ê´€ì ì¸ ëŒ€ì‹œë³´ë“œ**ë¥¼ í†µí•´ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ RAG ì‹œìŠ¤í…œì˜ í’ˆì§ˆì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.

ì§€ì†ì ì¸ í‰ê°€ì™€ ê°œì„ ì„ í†µí•´ **ì„¸ê³„ ìˆ˜ì¤€ì˜ RAG ì‹œìŠ¤í…œ**ì„ êµ¬ì¶•í•´ë³´ì„¸ìš”! ğŸš€